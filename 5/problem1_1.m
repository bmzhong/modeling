clc;clear;
dt=0.001;
smallZones=30.5;
interval=5;
Tm=[173 198 230 257];
velocity=78/60;
[R,U]=getTemperature(Tm,velocity);
t3=(25+2.5*smallZones+interval)/velocity;
index3=floor(t3/dt);
T3=U(index3);
t6=(25+5.5*smallZones+5*interval)/velocity;
index6=floor(t6/dt);
T6=U(index6);
t8=(25+8*smallZones+7*interval)/velocity;
index8=floor(t8/dt);
T8=U(index8);
flag=isConstraint(U);
disp(flag);
[peak,peakIndex]=max(R);
index3=find(R>=217);
index3=index3(end);
len=length(R);
X=(0:len-1)*0.5;
plot(X,R,'-db','LineWidth',2.5,'MarkerIndices',1:30:len,'MarkerSize',7,'MarkerFaceColor','b');
xlabel('时间(s)');
ylabel('温度(℃)');
legend('炉温曲线');
x0=[0,peakIndex*0.5];
y0=[peak,peak];
hold on
g1=plot(x0,y0,'--','LineWidth',1.5);
set(g1,'handlevisibility','off');
text(5,peak-5,'峰值温度','FontSize',12);
x1=[0,index3*0.5];
y1=[217,217];
hold on
g2=plot(x1,y1,'--','LineWidth',1.5);
set(g2,'handlevisibility','off');
text(5,217-5,'217','FontSize',12);
axis([0 340 0 250]);
set(gca,'xtick',0:20:340);
set(gca,'ytick',0:20:250);